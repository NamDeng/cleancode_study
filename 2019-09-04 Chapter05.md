# 05. 형식 맞추기

처음 코드를 보자마자 깔끔하고, 일관적이고, 꼼꼼하다고 감탄하면 좋겠다.

질서 정연하다고 탄복하면 좋겠다.

전문가가 짰다는 인상을 주면 좋겠다.

→ **코드 형식을 맞추자.**

<br/>

## 형식을 맞추는 목적

코드 형식은 **중요하다.**

오늘 구현한 기능이 다음 버전에서 바뀔 확률은 아주 높다.

그러나 오늘 구현한 코드의 가독성은 앞으로 바뀔 코드 품질에 지대한 영향을 끼친다.

<br/>

## 적절한 행 길이를 유지하라

500줄미만 대부분 200줄 미만.

줄 수가 적은 코드들로도 큰 시스템을 구축 할 수 있다.

fitnesse가 그러하다. 전체적으로는 5만줄에 육박하는 시스템이다.

일반적으로 큰 파일보다 작은 파일이 이해하기 쉽다.

<br/>

## 신문 기사처럼 작성하라

신문은 표제 - 기사 내용 요약 - 그림 - 세세한 사실이 조금씩 드러난다.

소스도 고차원 개념과 알고리즘 설명 - 의도를 세세하게 묘사 - 저차원 함수와 세부 내역이 나오도록 하자.

<br/>

### 개념은 빈 행으로 분리하라

빈 행은 새로운 개념을 시작한다는 시각적 단서이다. (함수간)

<br/>

### 세로 밀집도

서로 밀접한 코드행은 세로로 가까히 놓아야한다.

의미없는 주석으로 떨어뜨려 놓으면 읽기 불편하다.

<br/>

### 수직 거리

소스 파일과 함수를 여기저기 위아래로 오가는 등 미로와 같으면 안된다.

서로 밀접한 개념은 세로로 가까이 둬야한다.

그래서 protected 변수를 피해야 하는 이유 중 하나이다. → 이러한 경우에는 부모의 변수의 접근을 private으로 제한하고 함수로 써야겠다.

protected 변수는 부모와 자식 어디서도 바뀔수 있으므로 예측하기 어렵다.

protected는 함수 overriding에 사용하자~

어떻게 수직 거리를 좁힐 지 다음을 계속 참고하자.

**변수 선언**

사용부에 최대한 가까이 선언한다.

코틀린에서는 가능하다면 apply, also등을 이용하여 사용부를 제한하면 좋을 듯 하다.

**인스턴스 변수**

클래스 맨 처음에 선언한다.

변수간 거리를 두지 않는다. → 저희는 개념적으로는 칸을 띄도록

**종속 함수**

한 함수가 다른 함수를 호출한다면 두 함수는 세로로 가까이 배치한다.

**개념적 유사성**

명명법이 같고 기본 기능이 유사할 경우 개념적으로 유사하다고 본다. 세로로 가까이 배치한다.

<br/>

### 가로 형식 맞추기

120자 정도의 행 길이

우리는 어떻게 할까

    약 140자
    GetProdCategoryListResponse.Category categoryByCategoryHash = ProdFilterStore.getCategoryByCategoryHash(cc.getActivity(), categoryQueryValue);

**가로 공백과 밀집도**

연산자를 강조하기 위해 앞뒤로 공백을 줄 것 ( 왼쪽 오른쪽 요소가 분명히 나뉘어진다 )

함수와 괄호 사이에는 공백를 넣지 않는다. (함수와 인수는 밀접하기 때문에)

인수들은 공백으로 구분해준다 (쉼표를 강조해 준다)

**들여쓰기**

범위 계층을 표현하기 위해 들여쓰자.

간혹 간단한 if문이나 while문에서 들여쓰기를 무시 하고싶은 유혹이 생긴다.

여러분들은 어떤것을 선호할지 → Kotlin 가이드를 따르자.

**가짜 범위**

빈 while이나 for문

그냥 이런건 없도록 하자.

<br/>

### 팀 규칙

프로그래머들은 각자 선호하는 규칙이 있다. 하지만 팀에 속한다면 자신이 선호해야 할 규칙은 바로 팀 규칙이다.

<br/>

### 밥 아저씨의 형식 규칙

최고의 구현 표준 문서 - 114쪽 5-6

<br/>

## 느낀점

형식은 아키텍처로 정해진 듯 하다.

아키텍처를 따라 구현하다 보면 파일도 자연히 쪼개지고 행수도 더욱 늘어날 일이 많이 없어진다.